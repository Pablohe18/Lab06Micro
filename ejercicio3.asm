.MODEL SMALL
.STACK
.DATA
	MSJ DB "INGRESE UNA CADENA: $";
	msjPal DB "ES PALINDROMO $";
	msjNopal DB "NO ES PALINDROMO $";
	contador dW 0;
	contador2 dW 0;
	PALABRA DB ?
.CODE

PROGRAMA:
	;INICIO DEL PROGRAMA
	MOV AX, @DATA
	MOV DS, AX
	
	;SE IMPRIME LA CADENA
	XOR DX, DX				
	MOV DX, OFFSET MSJ 	
	MOV AH, 09h				
	INT 21h	
	

		
	;SE LIMPIA EL APUNTADOR
	XOR SI, SI
	;LEER
	LEA SI, PALABRA
	
	CALL LEERCADENA
	
	CALL ImprimirSalto
	
	CALL COMPARAR
	
	
	
	FINALIZAR:
	;FIN DEL PROGRAMA
	MOV AH, 4Ch
	INT 21h
	
	LEERCADENA PROC NEAR
		LLENARCADENA:
			
			CALL LEERCARACTER
			CMP AL, 0Dh		;COMPARA SI ES ENTER
			JE TERMINARCADENA
			MOV [SI], AL	;GUARDA EN [SI] LO QUE LEYO DEL TECLADO
			INC SI
			INC contador
			JMP LLENARCADENA
	
	TERMINARCADENA:
		MOV [SI], 24h
		
		RET
	LEERCADENA ENDP
	
	
	LEERCARACTER PROC NEAR
		XOR AX, AX
		MOV AH, 01h 	;LEE EL CARACTER
		INT 21h
		RET
	LEERCARACTER ENDP
	
		ImprimirSalto PROC NEAR
		;SE IMPRIME SALTO DE LINEA
		XOR AX, AX  
		MOV DL,10       
		MOV AH,02
		INT 21h
        
		;SE IMPRIME RETORNO DE CARRO
		XOR AX, AX
		MOV DL,13       
		MOV AH,02
		INT 21h
		
		RET
	ImprimirSalto ENDP
	
	COMPARAR PROC NEAR
	SUB contador, 1
	COMPARACION:
	
	LEA SI, PALABRA
	ADD SI, contador
	MOV DL, [SI]
	;SE IMPRIME RETORNO DE CARRO
	XOR AX, AX  
	MOV AH,02
	INT 21h
	XOR DH, DH
	MOV DH, DL
	
	XOR DL, DL
	LEA SI, PALABRA
	ADD SI, contador2
	MOV DL, [SI]
	
	;SE IMPRIME RETORNO DE CARRO
	XOR AX, AX  
	MOV AH,02
	INT 21h

	CMP DL, DH
	JNZ NOES
	
	XOR BX, BX
	MOV BX,  contador
	SUB BX, 1
	CMP BX, contador2
	JE SIES
	
	SUB contador, 1
	INC contador2
	

	
	JMP COMPARACION
	
	SIES:
	CALL ImprimirSalto
	;SE IMPRIME LA CADENA
	XOR DX, DX				
	MOV DX, OFFSET msjPal	
	MOV AH, 09h				
	INT 21h
	JMP FINALIZAR
	
	NOES:
	CALL ImprimirSalto
	;SE IMPRIME LA CADENA
	XOR DX, DX				
	MOV DX, OFFSET msjNopal	
	MOV AH, 09h				
	INT 21h
	JMP FINALIZAR
	
	
	
	
	RET
	COMPARAR ENDP
	
	
	
END PROGRAMA